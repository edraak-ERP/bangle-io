<!DOCTYPE html>
<html lang="en" class="BU_light-scheme" data-theme="BU_light-scheme">
  <head>
    <meta charset="UTF-8" />
    <title>Bangle App</title>
    <%- favicon %>
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" sizes="180x180" />
    <meta name="msapplication-TileColor" content="#da532c" />
    <%- inlinedScripts %>
    <meta
      name="theme-color"
      media="(prefers-color-scheme: light)"
      content="#ffffff"
    />
    <meta
      name="theme-color"
      media="(prefers-color-scheme: dark)"
      content="#000000"
    />
    <meta
      name="viewport"
      content="width=device-width,minimum-scale=1,user-scalable=no"
    />
    <!-- Analytics: Track page views without revealing the original path -->
    <script>
      async function sha256(message) {
        const msgBuffer = new TextEncoder().encode(message);
        const hashBuffer = await crypto.subtle.digest('SHA-256', msgBuffer);
        const hashArray = Array.from(new Uint8Array(hashBuffer));
        const hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
        return hashHex;
      }
  
      window.goatcounter = {no_onload: true}
      window.addEventListener('hashchange', async function(e) {
          const pathname = location.pathname;
          const searchAndHash = location.search + location.hash;
          let obfuscatedPath = pathname;
  
          if (searchAndHash) {
              const hashedPart = await sha256(searchAndHash);
              obfuscatedPath += '|' + hashedPart;
          }
          window.goatcounter.count({
              path: obfuscatedPath,
          });
      });
    </script>
    <script data-goatcounter="https://bangle-io.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
    <style>
      .BU_dark-scheme body {
        background-color: black;
      }
    </style>
  </head>
  <body class="bg-background font-sans antialiased">
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
